<aura:component controller = "OperationsPortalController" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,force:lightningQuickActionWithoutHeader" access="global" >
	
    <aura:html tag="style">
        .slds-modal__container{
        max-width: 90rem !important;
        width:90% !important;
        }
        .custom-margin {
        margin-bottom: 20px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        }
    </aura:html>
    
    <aura:html tag="style">
        .cuf-content {
        padding: 0 0rem !important;
        }
        .slds-p-around--medium {
        padding: 0rem !important;
        }       
        .slds-modal__content{
        overflow-y:hidden !important;
        height:unset !important;
        max-height:unset !important;
        }
    </aura:html>
    
    
    <aura:attribute name="TableContent" type="String" description=" Show the Result class"/>
    <aura:attribute name="TargetFileName" type="String" description="Name of the file"/> 
    <aura:attribute name="tableheaders" type="Object[]"/>
    <aura:attribute name="fileContentData" type="String"/>
    <aura:attribute name="formLabel" type="String"/>
    <aura:attribute name="NumOfRecords" type="Integer"/>
    <aura:attribute name="showMain" type="Boolean" default="true"/> 
    <aura:attribute name="showMain1" type="Boolean" default="true"/>
    <aura:attribute name="loading" type="Boolean" default="false"/>
    <aura:attribute name="showError" type="Boolean" default="false"/>
    <!-- <aura:attribute name="recordId" type="String"/> -->
    <aura:attribute name="fileName" type="String" default="No File Selected."/>
    <aura:attribute name="newfileName" type="String" default="No File Selected."/>
    <aura:attribute name="buttonLabel" type="string" default="Upload File" access="global" description="The label of the button."/>
    <aura:attribute name="disabled" type="Boolean" default="false" access="global"/>
    
    <br/><div class="slds-border_bottom" style="text-align:center; font-size:20px;">Upload Dispatch Details</div>
    
    
     <aura:if isTrue="{!v.showMain1}">
    <div class="slds-form-element" aura:id="form-container">
        <!-- Outer form label -->
        
        <aura:if isTrue="{!v.showError}">
            <div class="exampleHolder">
                <lightning:spinner alternativeText="Loading" size="small" />
            </div>
        </aura:if>
        <span class="slds-form-element__label" id="file-selector-primary-label">{!v.formLabel}</span>
        <div class="slds-form-element__control">
            <div class="slds-align_absolute-center slds-file-selector slds-file-selector_files slds-is-relative">
                <!-- Loading indicator -->
                <aura:if isTrue="{!v.loading}">
                    <lightning:spinner alternativeText="Loading" size="small" variant="brand"/>
                </aura:if>             
                <div class="slds-grid slds-gutters">
                    <div class="slds-col slds-size_4-of-4">
                        
                            <lightning:input aura:id="fuploader" onchange="{!c.onchange}" type="file" name="file" label="Upload File" multiple="false"/>
                             <div class="slds-text-body_medium slds-text-color_error">{!v.newfileName}</div>
 
                    </div>
                </div>
            </div>
        </div>
    </div>
    </aura:if>
    <aura:if isTrue="{!v.showMain}">
        
        <aura:set attribute="else">
            <div class="slds-m-around_x-small" style="z-index: 1; padding-bottom: 10px;">
                <div style="margin: 3%;"> 
                    <ui:outputRichText class="uiOutputRichText slds-m-around--large" value="{!v.TargetFileName}"/>
                    <ui:outputRichText class="uiOutputRichText slds-m--around-large" value="{!v.TableContent}"/>
                </div>
            </div>
            <div class="slds-align--absolute-center">
                <lightning:button label="Save" variant="brand" class="savebutton" onclick="{!c.processFileContent}"/>
                <lightning:button label="Cancel" variant="brand" class="cancelbutton"  onclick="{!c.cancel}"/>
            </div>
        </aura:set>
    </aura:if>
    <br/><br/>
    
    <div class="slds-border_top">
        <div style="height:50px;">
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        </div>
    </div>
</aura:component>